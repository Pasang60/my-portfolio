<section
  id="projects"
  class="py-5"
  [class.bg-dark]="darkMode"
  [class.text-white]="darkMode"
  style="scroll-margin-top: 80px; min-height: 100vh;">
  <div class="container-fluid px-4">
    <div class="row g-4">
      <!-- Left Sidebar - Project List -->
      <div class="col-lg-3 col-md-4">
        <div class="projects-sidebar">
          <div
            *ngFor="let project of projects"
            class="project-sidebar-card mb-3 p-3 rounded-3 position-relative"
            [class.active]="selectedProject?.title === project.title"
            [class.bg-dark]="darkMode"
            [class.border]="true"
            [class.border-primary]="selectedProject?.title === project.title"
            [class.border-secondary]="selectedProject?.title !== project.title && darkMode"
            (click)="selectProject(project)"
            style="cursor: pointer; transition: all 0.3s; border-width: 1px;">

            <!-- Status Badge -->
            <span
              class="badge position-absolute top-0 end-0 m-2 text-uppercase small"
              [ngClass]="{
                'bg-danger': project.status === 'LIVE',
                'bg-success': project.status === 'PRODUCTION',
                'bg-warning text-dark': project.status === 'COMPLETED',
                'bg-info': project.status === 'IN-DEVELOPMENT'
              }">
              {{ project.status }}
            </span>

            <!-- Project Title -->
            <h6 class="mb-2 mt-1 fw-bold" [class.text-white]="darkMode" style="padding-right: 80px;">
              {{ project.title }}
            </h6>

            <!-- Project Subtitle -->
            <p class="small mb-0 text-muted" style="font-size: 0.8rem;">
              {{ project.subtitle }}
            </p>
          </div>
        </div>
      </div>

      <!-- Right Side - Project Details -->
      <div class="col-lg-9 col-md-8">
        <div
          *ngIf="selectedProject"
          class="project-details-panel p-4 rounded-3"
          [class.bg-dark]="darkMode"
          [class.border]="darkMode"
          [class.border-secondary]="darkMode"
          style="border: 1px solid rgba(108, 117, 125, 0.3);">

          <!-- Project Header -->
          <div class="mb-4">
            <h2 class="mb-2 fw-bold" [class.text-white]="darkMode">
              {{ selectedProject.title }}
            </h2>
            <p class="text-muted mb-0">{{ selectedProject.subtitle }}</p>
          </div>

          <!-- Description Section -->
          <div class="mb-4">
            <h5 class="mb-3 fw-semibold" [class.text-white]="darkMode">Description</h5>
            <p [class.text-light]="darkMode" [class.text-muted]="!darkMode" style="line-height: 1.8;">
              {{ selectedProject.description }}
            </p>
          </div>

          <!-- Features Section -->
          <div class="mb-4" *ngIf="selectedProject.details?.features">
            <h5 class="mb-3 fw-semibold text-success">Features</h5>
            <ul class="list-unstyled ps-0">
              <li
                *ngFor="let feature of selectedProject.details.features"
                class="mb-2"
                [class.text-light]="darkMode"
                [class.text-muted]="!darkMode">
                <i class="fas fa-angle-right text-success me-2"></i>{{ feature }}
              </li>
            </ul>
          </div>

          <!-- Tech Stack Section -->
          <div class="mb-4">
            <h5 class="mb-3 fw-semibold text-warning">Tech Stack</h5>
            <div class="d-flex flex-wrap gap-2">
              <span
                *ngFor="let tech of selectedProject.technologies"
                class="badge bg-secondary px-3 py-2"
                style="font-size: 0.85rem; font-weight: 500;">
                {{ tech }}
              </span>
            </div>
          </div>



          <!-- Action Buttons -->
          <div class="d-flex gap-3 mt-4">
            <a
              *ngIf="selectedProject.demoLink"
              [href]="selectedProject.demoLink"
              class="btn btn-primary px-4"
              target="_blank">
              <i class="fas fa-external-link-alt me-2"></i>
              View Live Demo
            </a>
            <a
              *ngIf="selectedProject.githubLink"
              [href]="selectedProject.githubLink"
              class="btn btn-outline-primary px-4"
              target="_blank">
              <i class="fab fa-github me-2"></i>
              View Code
            </a>
          </div>
        </div>

        <!-- Empty State -->
        <div
          *ngIf="!selectedProject"
          class="text-center py-5"
          [class.text-light]="darkMode"
          [class.text-muted]="!darkMode">
          <i class="fas fa-folder-open fa-4x mb-3 opacity-50"></i>
          <h4>Select a project to view details</h4>
          <p>Choose a project from the sidebar to see more information</p>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .project-sidebar-card {
    transition: all 0.3s ease;
    min-height: 80px;
  }

  .project-sidebar-card:hover {
    transform: translateX(5px);
    box-shadow: 0 4px 12px rgba(0, 123, 255, 0.2);
    border-color: rgba(0, 123, 255, 0.5) !important;
  }

  .project-sidebar-card.active {
    border-color: #0d6efd !important;
    border-width: 2px !important;
    box-shadow: 0 4px 12px rgba(0, 123, 255, 0.3);
    background: rgba(13, 110, 253, 0.1) !important;
  }

  .projects-sidebar {
    max-height: calc(100vh - 150px);
    overflow-y: auto;
    padding-right: 10px;
  }

  .projects-sidebar::-webkit-scrollbar {
    width: 6px;
  }

  .projects-sidebar::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.1);
    border-radius: 10px;
  }

  .projects-sidebar::-webkit-scrollbar-thumb {
    background: rgba(108, 117, 125, 0.5);
    border-radius: 10px;
  }

  .projects-sidebar::-webkit-scrollbar-thumb:hover {
    background: rgba(108, 117, 125, 0.8);
  }

  .project-details-panel {
    min-height: 500px;
  }

  .badge.bg-danger {
    background-color: #dc3545 !important;
  }

  .badge.bg-success {
    background-color: #198754 !important;
  }

  .badge.bg-warning {
    background-color: #ffc107 !important;
  }

  .badge.bg-info {
    background-color: #0dcaf0 !important;
  }
</style>


